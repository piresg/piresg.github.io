[{"content":"Anonymous Search python3 windapsearch.py -d htb.local -u \u0026quot;\u0026quot; -p \u0026quot;\u0026quot; --dc-ip 10.129.139.154 -U\npython3 windapsearch.py -d htb.local -u \u0026quot;\u0026quot; -p \u0026quot;\u0026quot; --dc-ip 10.129.139.154 -U --custom \u0026quot;objectClass=\\*\u0026quot;\nGet AD Users (with credentials) ldapsearch -x -H ldap://10.129.5.52:389 -D svc_tgs -w GPPstillStandingStrong2k18 -b \u0026ldquo;DC=active,DC=htb\u0026rdquo; -s sub \u0026ldquo;(\u0026amp;(objectCategory=person)(objectClass=user) (!(useraccountcontrol:1.2.840.113556.1.4.803:=2)))\u0026rdquo; samaccountname | grep sAMAccountName\nGet Users with SPN associated (with credentials) ldapsearch -x -H ldap://10.129.5.52:389 -D SVCTGS -w GPPstillStandingStrong2k18 -b \u0026ldquo;dc=active,dc=htb\u0026rdquo; -s sub \u0026ldquo;(\u0026amp;(objectCategory=person)(objectClass=user)(!(useraccountcontrol:1.2.840.113556.1.4.803:=2))(serviceprincipalname=/_))\u0026rdquo; serviceprincipalname | grep -B 1 servicePrincipalName\necho 1 ","permalink":"https://www.insecure.pt/posts/enum_ldap/","summary":"Anonymous Search python3 windapsearch.py -d htb.local -u \u0026quot;\u0026quot; -p \u0026quot;\u0026quot; --dc-ip 10.129.139.154 -U\npython3 windapsearch.py -d htb.local -u \u0026quot;\u0026quot; -p \u0026quot;\u0026quot; --dc-ip 10.129.139.154 -U --custom \u0026quot;objectClass=\\*\u0026quot;\nGet AD Users (with credentials) ldapsearch -x -H ldap://10.129.5.52:389 -D svc_tgs -w GPPstillStandingStrong2k18 -b \u0026ldquo;DC=active,DC=htb\u0026rdquo; -s sub \u0026ldquo;(\u0026amp;(objectCategory=person)(objectClass=user) (!(useraccountcontrol:1.2.840.113556.1.4.803:=2)))\u0026rdquo; samaccountname | grep sAMAccountName\nGet Users with SPN associated (with credentials) ldapsearch -x -H ldap://10.129.5.52:389 -D SVCTGS -w GPPstillStandingStrong2k18 -b \u0026ldquo;dc=active,dc=htb\u0026rdquo; -s sub \u0026ldquo;(\u0026amp;(objectCategory=person)(objectClass=user)(!(useraccountcontrol:1.2.840.113556.1.4.803:=2))(serviceprincipalname=/_))\u0026rdquo; serviceprincipalname | grep -B 1 servicePrincipalName","title":"Enumeration LDAP"},{"content":"Anonymous Logon nmap --script safe -445 10.10.10.100\nsmbmap -u \u0026quot;\u0026quot; -p \u0026quot;\u0026quot; -P 445 -H 10.129.120.220\nsmbclient //10.129.120.220/Replication smbclient -L //10.10.10.100/Share\nListing Files recursive recurse on ls smbmap -R Replication -H 10.129.5.41 Directory Listing with credentials smbmap -u svc_tgs -p GPPstillStandingStrong2k18 -d ACTIVE.HTB -H 10.129.120.220\nListing Files with credentials recursive\nsmbmap -R -H 10.129.5.41 -u svc_tgs -p GPPstillStandingStrong2k18 -d active.htb\nsmbclient //10.10.10.100/Share Dowload all file RECURSE ON PROMPT OFF mget *\nSMB version 2 is running, and message signing is enabled - prevents SMB Relay Atacks\nMount Share\nsudo apt-get install cifs-utils mkdir /mnt/Replication mount -t cifs //10.10.10.100/Replication /mnt/Replication -o username=,password=,domain=active.htb grep -R password /mnt/Replication/\n","permalink":"https://www.insecure.pt/posts/enum_smb/","summary":"Anonymous Logon nmap --script safe -445 10.10.10.100\nsmbmap -u \u0026quot;\u0026quot; -p \u0026quot;\u0026quot; -P 445 -H 10.129.120.220\nsmbclient //10.129.120.220/Replication smbclient -L //10.10.10.100/Share\nListing Files recursive recurse on ls smbmap -R Replication -H 10.129.5.41 Directory Listing with credentials smbmap -u svc_tgs -p GPPstillStandingStrong2k18 -d ACTIVE.HTB -H 10.129.120.220\nListing Files with credentials recursive\nsmbmap -R -H 10.129.5.41 -u svc_tgs -p GPPstillStandingStrong2k18 -d active.htb\nsmbclient //10.10.10.100/Share Dowload all file RECURSE ON PROMPT OFF mget *","title":"Enumeration SMB"},{"content":"LLMNR é um acrónimo de Link-Local Multicast Resolution, está activo por defeito e é usado para resolução de nomes quando não existe resposta do DNS ao pedido.\nNa pratica é enviado, em ultimo recurso, um pedido para todo o segmento de rede onde a máquina se encontra (broadcast) para que o pedido seja satisfeito por alguem que esteja na mesma rede.\nTeste ","permalink":"https://www.insecure.pt/posts/ad_llmnr/","summary":"LLMNR é um acrónimo de Link-Local Multicast Resolution, está activo por defeito e é usado para resolução de nomes quando não existe resposta do DNS ao pedido.\nNa pratica é enviado, em ultimo recurso, um pedido para todo o segmento de rede onde a máquina se encontra (broadcast) para que o pedido seja satisfeito por alguem que esteja na mesma rede.\nTeste ","title":"LLMNR Poisoning"},{"content":"TESTE\n","permalink":"https://www.insecure.pt/posts/ad_smbrelay/","summary":"TESTE","title":"SMB Relay Attack"}]